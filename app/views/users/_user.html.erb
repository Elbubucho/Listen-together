<div class="flex items-start p-3 mb-2  rounded-lg bg-base-200 border border-primary hover:bg-base-100 transition-colors duration-200 w-full hover:border-white">
  <%= link_to chat_path(user), data: { turbo: false }, class: "flex items-start w-full" do %>
    <%= render "shared/avatar", user: user %>
    <div class="flex flex-col ml-4 flex-1">
      <span class="font-medium text-base-content"><%= user.username %></span>
      <div class="flex justify-between items-center text-sm text-base-content/70 mt-1 w-full">
        <% if defined?(room) && room.present? %>
          <%= turbo_frame_tag [dom_id(room), "user_last_message"] do %>
            <%= render "users/last_message", last_message: last_message, sender: sender %>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
